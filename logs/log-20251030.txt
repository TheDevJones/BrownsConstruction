2025-10-30 07:42:29.831 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 07:42:31.336 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 07:42:31.336 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 07:42:34.594 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 07:42:34.611 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 07:42:34.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 07:42:34.882 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 07:42:34.882 +02:00 [INF] Hosting environment: Development
2025-10-30 07:42:34.882 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 07:42:35.524 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-30 07:42:35.581 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-10-30 07:42:35.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Account/Login?ReturnUrl=%2F - null null
2025-10-30 07:42:35.644 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AccountController.Login (BCSApp)'
2025-10-30 07:42:35.645 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 302 null null 804.4219ms
2025-10-30 07:42:35.660 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller BCSApp.Controllers.AccountController (BCSApp).
2025-10-30 07:42:35.681 +02:00 [INF] Executing ViewResult, running view Login.
2025-10-30 07:42:35.771 +02:00 [INF] Executed ViewResult - view Login executed in 92.2893ms.
2025-10-30 07:42:35.772 +02:00 [INF] Executed action BCSApp.Controllers.AccountController.Login (BCSApp) in 111.3305ms
2025-10-30 07:42:35.772 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AccountController.Login (BCSApp)'
2025-10-30 07:42:35.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Account/Login?ReturnUrl=%2F - 200 null text/html; charset=utf-8 182.2118ms
2025-10-30 07:42:35.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-10-30 07:42:35.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - null null
2025-10-30 07:42:35.839 +02:00 [INF] Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js'. Physical path: 'D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.min.js'
2025-10-30 07:42:35.839 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - 200 5824 text/javascript 47.9505ms
2025-10-30 07:42:35.841 +02:00 [INF] Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.min.js'. Physical path: 'D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\wwwroot\lib\jquery-validation\dist\jquery.validate.min.js'
2025-10-30 07:42:35.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:42:35.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:42:35.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/lib/jquery-validation/dist/jquery.validate.min.js - 200 24601 text/javascript 57.8845ms
2025-10-30 07:42:35.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 6.1097ms
2025-10-30 07:42:35.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9369ms
2025-10-30 07:43:41.964 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/Account/Login - application/x-www-form-urlencoded 247
2025-10-30 07:43:41.977 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AccountController.Login (BCSApp)'
2025-10-30 07:43:41.983 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BCSApp.Models.LoginViewModel, System.String) on controller BCSApp.Controllers.AccountController (BCSApp).
2025-10-30 07:43:42.263 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-10-30 07:43:42.493 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-10-30 07:43:42.516 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-30 07:43:42.524 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-30 07:43:42.539 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-10-30 07:43:42.543 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-10-30 07:43:42.546 +02:00 [INF] Executing RedirectResult, redirecting to /Home/Dashboard.
2025-10-30 07:43:42.547 +02:00 [INF] Executed action BCSApp.Controllers.AccountController.Login (BCSApp) in 563.7569ms
2025-10-30 07:43:42.548 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AccountController.Login (BCSApp)'
2025-10-30 07:43:42.551 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/Account/Login - 302 null null 587.4087ms
2025-10-30 07:43:42.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Home/Dashboard - null null
2025-10-30 07:43:42.563 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Dashboard (BCSApp)'
2025-10-30 07:43:42.565 +02:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 07:43:42.640 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:43:42.662 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
2025-10-30 07:43:42.671 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
WHERE [p].[Status] = N'In Progress'
2025-10-30 07:43:42.677 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [MaintenanceRequests] AS [m]
2025-10-30 07:43:42.682 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [MaintenanceRequests] AS [m]
WHERE [m].[Status] = N'Pending'
2025-10-30 07:43:42.689 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tasks] AS [t]
2025-10-30 07:43:42.699 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tasks] AS [t]
WHERE [t].[DueDate] < GETDATE() AND [t].[Status] <> N'Completed'
2025-10-30 07:43:42.750 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[ActualCost], [p0].[Budget], [p0].[ClientId], [p0].[CreatedAt], [p0].[Description], [p0].[EndDate], [p0].[Location], [p0].[Name], [p0].[ProjectManagerId], [p0].[StartDate], [p0].[Status], [p0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
LEFT JOIN [AspNetUsers] AS [a] ON [p0].[ProjectManagerId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [p0].[ClientId] = [a0].[Id]
ORDER BY [p0].[CreatedAt] DESC
2025-10-30 07:43:42.816 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[Id], [m0].[ActualCost], [m0].[AssignedToId], [m0].[ClientId], [m0].[CompletedAt], [m0].[CreatedAt], [m0].[Description], [m0].[DueDate], [m0].[EstimatedCost], [m0].[Location], [m0].[Priority], [m0].[ProjectId], [m0].[PropertyType], [m0].[Status], [m0].[Title], [m0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
    FROM [MaintenanceRequests] AS [m]
    ORDER BY [m].[CreatedAt] DESC
) AS [m0]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[ClientId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m0].[AssignedToId] = [a0].[Id]
ORDER BY [m0].[CreatedAt] DESC
2025-10-30 07:43:42.872 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[ActualCost], [t0].[AssignedToId], [t0].[CompletedAt], [t0].[CreatedAt], [t0].[CreatedById], [t0].[Description], [t0].[DueDate], [t0].[EstimatedCost], [t0].[MaintenanceRequestId], [t0].[Priority], [t0].[ProjectPhaseId], [t0].[Status], [t0].[Title], [t0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [t].[Id], [t].[ActualCost], [t].[AssignedToId], [t].[CompletedAt], [t].[CreatedAt], [t].[CreatedById], [t].[Description], [t].[DueDate], [t].[EstimatedCost], [t].[MaintenanceRequestId], [t].[Priority], [t].[ProjectPhaseId], [t].[Status], [t].[Title], [t].[UpdatedAt]
    FROM [Tasks] AS [t]
    ORDER BY [t].[CreatedAt] DESC
) AS [t0]
INNER JOIN [AspNetUsers] AS [a] ON [t0].[AssignedToId] = [a].[Id]
INNER JOIN [AspNetUsers] AS [a0] ON [t0].[CreatedById] = [a0].[Id]
ORDER BY [t0].[CreatedAt] DESC
2025-10-30 07:43:42.919 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Status], COUNT(*) AS [Count]
FROM [Projects] AS [p]
GROUP BY [p].[Status]
2025-10-30 07:43:42.929 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Priority], COUNT(*) AS [Count]
FROM [MaintenanceRequests] AS [m]
GROUP BY [m].[Priority]
2025-10-30 07:43:42.937 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Status], COUNT(*) AS [Count]
FROM [Tasks] AS [t]
GROUP BY [t].[Status]
2025-10-30 07:43:42.944 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 07:43:42.946 +02:00 [INF] Executing ViewResult, running view Dashboard.
2025-10-30 07:43:43.012 +02:00 [INF] Executed ViewResult - view Dashboard executed in 66.9086ms.
2025-10-30 07:43:43.013 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Dashboard (BCSApp) in 447.0628ms
2025-10-30 07:43:43.013 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Dashboard (BCSApp)'
2025-10-30 07:43:43.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Home/Dashboard - 200 null text/html; charset=utf-8 462.1245ms
2025-10-30 07:43:43.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:43:43.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:43:43.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 5.0991ms
2025-10-30 07:43:43.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.3459ms
2025-10-30 07:43:43.162 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:43:43.165 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:43:43.168 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:43:43.174 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:43:43.186 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:43:43.191 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:43:43.194 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 26.5849ms
2025-10-30 07:43:43.194 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:43:43.195 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 32.783ms
2025-10-30 07:43:48.970 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Document - null null
2025-10-30 07:43:48.981 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.DocumentController.Index (BCSApp)'
2025-10-30 07:43:48.984 +02:00 [INF] Route matched with {action = "Index", controller = "Document"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.DocumentController (BCSApp).
2025-10-30 07:43:48.989 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:43:49.026 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [t].[Id], [t].[ActualCost], [t].[AssignedToId], [t].[CompletedAt], [t].[CreatedAt], [t].[CreatedById], [t].[Description], [t].[DueDate], [t].[EstimatedCost], [t].[MaintenanceRequestId], [t].[Priority], [t].[ProjectPhaseId], [t].[Status], [t].[Title], [t].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
FROM [Documents] AS [d]
INNER JOIN [AspNetUsers] AS [a] ON [d].[UploadedById] = [a].[Id]
LEFT JOIN [Projects] AS [p] ON [d].[ProjectId] = [p].[Id]
LEFT JOIN [Tasks] AS [t] ON [d].[TaskId] = [t].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [d].[MaintenanceRequestId] = [m].[Id]
ORDER BY [d].[CreatedAt] DESC
2025-10-30 07:43:49.028 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:43:49.037 +02:00 [INF] Executed ViewResult - view Index executed in 9.6542ms.
2025-10-30 07:43:49.037 +02:00 [INF] Executed action BCSApp.Controllers.DocumentController.Index (BCSApp) in 53.0715ms
2025-10-30 07:43:49.037 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.DocumentController.Index (BCSApp)'
2025-10-30 07:43:49.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Document - 200 null text/html; charset=utf-8 68.121ms
2025-10-30 07:43:49.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:43:49.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:43:49.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.9365ms
2025-10-30 07:43:49.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.8076ms
2025-10-30 07:43:49.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:43:49.140 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:43:49.140 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:43:49.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:43:49.146 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:43:49.147 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:43:49.147 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.5605ms
2025-10-30 07:43:49.147 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:43:49.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.9586ms
2025-10-30 07:44:19.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:44:19.294 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:44:19.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:44:19.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:44:19.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:44:19.305 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:44:19.306 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.4164ms
2025-10-30 07:44:19.306 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:44:19.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 13.0558ms
2025-10-30 07:44:49.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:44:49.296 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:44:49.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:44:49.304 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:44:49.313 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:44:49.313 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:44:49.314 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 18.0169ms
2025-10-30 07:44:49.314 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:44:49.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 19.446ms
2025-10-30 07:51:46.672 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 07:51:47.526 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 07:51:47.526 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 07:51:48.983 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 07:51:48.999 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 07:51:49.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 07:51:49.177 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 07:51:49.177 +02:00 [INF] Hosting environment: Development
2025-10-30 07:51:49.177 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 07:51:49.259 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 07:51:49.271 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 07:51:49.279 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:51:49.354 +02:00 [INF] Executed ViewResult - view Index executed in 75.5167ms.
2025-10-30 07:51:49.357 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Index (BCSApp) in 84.6327ms
2025-10-30 07:51:49.357 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 07:51:49.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 200 null text/html; charset=utf-8 253.9458ms
2025-10-30 07:51:49.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:51:49.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 3.0456ms
2025-10-30 07:51:49.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:51:49.418 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4902ms
2025-10-30 07:51:49.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:51:49.577 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:51:49.582 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:51:49.741 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:51:49.897 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:51:49.903 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:51:49.933 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 350.4138ms
2025-10-30 07:51:49.933 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:51:49.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 369.0371ms
2025-10-30 07:52:01.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 07:52:01.165 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:52:01.167 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:52:01.220 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:52:01.293 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 07:52:01.297 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:52:01.304 +02:00 [INF] Executed ViewResult - view Index executed in 7.3544ms.
2025-10-30 07:52:01.304 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 136.1883ms
2025-10-30 07:52:01.304 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:52:01.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 157.4237ms
2025-10-30 07:52:01.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:52:01.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:52:01.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 4.9494ms
2025-10-30 07:52:01.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.2018ms
2025-10-30 07:52:01.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:52:01.426 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:01.427 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:52:01.430 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:52:01.433 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:52:01.434 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:52:01.434 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.4997ms
2025-10-30 07:52:01.434 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:01.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 10.9666ms
2025-10-30 07:52:06.684 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 07:52:06.695 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:52:06.700 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:52:06.721 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:52:06.728 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 07:52:06.772 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 07:52:06.811 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 07:52:06.845 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 34.1216ms.
2025-10-30 07:52:06.845 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 144.9316ms
2025-10-30 07:52:06.846 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:52:06.846 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 161.6727ms
2025-10-30 07:52:06.859 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:52:06.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:52:06.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.9627ms
2025-10-30 07:52:06.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8942ms
2025-10-30 07:52:06.984 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:52:06.985 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:06.985 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:52:06.987 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:52:06.991 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:52:06.991 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:52:06.991 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.4763ms
2025-10-30 07:52:06.991 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:06.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.0624ms
2025-10-30 07:52:36.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:52:36.991 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:36.991 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:52:36.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:52:37.002 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:52:37.002 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:52:37.003 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 12.1192ms
2025-10-30 07:52:37.003 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:52:37.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.1567ms
2025-10-30 07:53:07.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:53:07.295 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:53:07.295 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:53:07.306 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:53:07.344 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:53:07.344 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:53:07.349 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 53.7144ms
2025-10-30 07:53:07.349 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:53:07.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 55.6819ms
2025-10-30 07:53:37.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:53:37.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:53:37.293 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:53:37.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:53:37.300 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:53:37.300 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:53:37.301 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.5721ms
2025-10-30 07:53:37.301 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:53:37.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 9.8569ms
2025-10-30 07:54:06.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:54:06.991 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:06.992 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:54:06.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:54:07.007 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:54:07.007 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:54:07.007 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 15.5404ms
2025-10-30 07:54:07.007 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:07.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.3893ms
2025-10-30 07:54:26.612 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 323
2025-10-30 07:54:26.620 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 07:54:26.629 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:54:26.653 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:54:26.688 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-30 07:54:26.706 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p1].[Id], [p1].[ActualCost], [p1].[Budget], [p1].[ClientId], [p1].[CreatedAt], [p1].[Description], [p1].[EndDate], [p1].[Location], [p1].[Name], [p1].[ProjectManagerId], [p1].[StartDate], [p1].[Status], [p1].[UpdatedAt], [p0].[Id], [p0].[ActualCost], [p0].[Budget], [p0].[CreatedAt], [p0].[Description], [p0].[EndDate], [p0].[Name], [p0].[Order], [p0].[ProjectId], [p0].[StartDate], [p0].[Status], [p0].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
FROM (
    SELECT TOP(1) [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    WHERE [p].[Id] = @__projectId_0
) AS [p1]
LEFT JOIN [ProjectPhases] AS [p0] ON [p1].[Id] = [p0].[ProjectId]
LEFT JOIN [MaintenanceRequests] AS [m] ON [p1].[Id] = [m].[ProjectId]
ORDER BY [p1].[Id], [p0].[Id]
2025-10-30 07:54:26.770 +02:00 [INF] Sending request to DeepSeek API
2025-10-30 07:54:26.774 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 07:54:26.779 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 07:54:37.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:54:37.003 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:37.003 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:54:37.013 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:54:37.027 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:54:37.028 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:54:37.031 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 26.9173ms
2025-10-30 07:54:37.031 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:37.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 32.8556ms
2025-10-30 07:54:51.073 +02:00 [INF] Received HTTP response headers after 24289.7425ms - 401
2025-10-30 07:54:51.074 +02:00 [INF] End processing HTTP request after 24303.164ms - 401
2025-10-30 07:54:51.079 +02:00 [ERR] DeepSeek API error: Unauthorized - {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 07:54:51.188 +02:00 [ERR] Error calling DeepSeek API
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
2025-10-30 07:54:51.303 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 07:54:51.305 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 07:54:51.414 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 24784.9112ms
2025-10-30 07:54:51.414 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 07:54:51.416 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 24803.9447ms
2025-10-30 07:54:51.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 07:54:51.423 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:54:51.423 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:54:51.424 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:54:51.427 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 07:54:51.428 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 07:54:51.428 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 07:54:51.441 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 12.4587ms.
2025-10-30 07:54:51.441 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 17.7853ms
2025-10-30 07:54:51.441 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:54:51.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 20.5872ms
2025-10-30 07:54:51.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:54:51.464 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.385ms
2025-10-30 07:54:51.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:54:51.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.3078ms
2025-10-30 07:54:51.595 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:54:51.596 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:51.596 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:54:51.598 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:54:51.601 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:54:51.601 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:54:51.601 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.6423ms
2025-10-30 07:54:51.602 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:54:51.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.1625ms
2025-10-30 07:55:21.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:55:21.610 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:55:21.610 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:55:21.616 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:55:21.626 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:55:21.628 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:55:21.631 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 20.5774ms
2025-10-30 07:55:21.631 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:55:21.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 22.4944ms
2025-10-30 07:55:51.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:55:51.597 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:55:51.597 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:55:51.603 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:55:51.608 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:55:51.608 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:55:51.611 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.0326ms
2025-10-30 07:55:51.612 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:55:51.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 15.6617ms
2025-10-30 07:56:03.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/Inbox - null null
2025-10-30 07:56:03.318 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.Inbox (BCSApp)'
2025-10-30 07:56:03.321 +02:00 [INF] Route matched with {action = "Inbox", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Inbox() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:56:03.326 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:56:03.398 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[CreatedAt], [m].[IsRead], [m].[MaintenanceRequestId], [m].[MessageType], [m].[ProjectId], [m].[ReadAt], [m].[RecipientId], [m].[SenderId], [m].[Subject], [m].[TaskId], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m0].[Id], [m0].[ActualCost], [m0].[AssignedToId], [m0].[ClientId], [m0].[CompletedAt], [m0].[CreatedAt], [m0].[Description], [m0].[DueDate], [m0].[EstimatedCost], [m0].[Location], [m0].[Priority], [m0].[ProjectId], [m0].[PropertyType], [m0].[Status], [m0].[Title], [m0].[UpdatedAt], [t].[Id], [t].[ActualCost], [t].[AssignedToId], [t].[CompletedAt], [t].[CreatedAt], [t].[CreatedById], [t].[Description], [t].[DueDate], [t].[EstimatedCost], [t].[MaintenanceRequestId], [t].[Priority], [t].[ProjectPhaseId], [t].[Status], [t].[Title], [t].[UpdatedAt]
FROM [Messages] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[SenderId] = [a].[Id]
INNER JOIN [AspNetUsers] AS [a0] ON [m].[RecipientId] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [m].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[Id]
LEFT JOIN [Tasks] AS [t] ON [m].[TaskId] = [t].[Id]
WHERE [m].[RecipientId] = @__user_Id_0
ORDER BY [m].[CreatedAt] DESC
2025-10-30 07:56:03.429 +02:00 [INF] Executing ViewResult, running view Inbox.
2025-10-30 07:56:03.440 +02:00 [INF] Executed ViewResult - view Inbox executed in 11.9108ms.
2025-10-30 07:56:03.440 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.Inbox (BCSApp) in 119.1778ms
2025-10-30 07:56:03.440 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.Inbox (BCSApp)'
2025-10-30 07:56:03.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/Inbox - 200 null text/html; charset=utf-8 129.7402ms
2025-10-30 07:56:03.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:56:03.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:56:03.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 4.4278ms
2025-10-30 07:56:03.468 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.1325ms
2025-10-30 07:56:03.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:56:03.582 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:03.583 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:56:03.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:56:03.588 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:56:03.589 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:56:03.589 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.2137ms
2025-10-30 07:56:03.589 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:03.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.0439ms
2025-10-30 07:56:10.257 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 07:56:10.260 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:56:10.260 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:56:10.263 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:56:10.265 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 07:56:10.265 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:56:10.267 +02:00 [INF] Executed ViewResult - view Index executed in 1.7229ms.
2025-10-30 07:56:10.267 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 7.119ms
2025-10-30 07:56:10.267 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:56:10.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 10.5877ms
2025-10-30 07:56:10.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:56:10.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:56:10.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.1858ms
2025-10-30 07:56:10.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.7262ms
2025-10-30 07:56:10.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:56:10.352 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:10.352 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:56:10.354 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:56:10.356 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:56:10.357 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:56:10.357 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.2564ms
2025-10-30 07:56:10.357 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:10.358 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 6.4013ms
2025-10-30 07:56:41.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:56:41.300 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:41.300 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:56:41.303 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:56:41.310 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:56:41.311 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:56:41.313 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 12.8778ms
2025-10-30 07:56:41.313 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:56:41.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.1776ms
2025-10-30 07:57:11.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:57:11.299 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:57:11.300 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:57:11.302 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:57:11.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:57:11.305 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:57:11.306 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.9911ms
2025-10-30 07:57:11.306 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:57:11.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.4631ms
2025-10-30 07:57:41.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:57:41.300 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:57:41.300 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:57:41.302 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:57:41.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:57:41.306 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:57:41.309 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 9.3144ms
2025-10-30 07:57:41.309 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:57:41.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 10.6032ms
2025-10-30 07:58:11.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:58:11.291 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:11.291 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:58:11.296 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:11.304 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:58:11.305 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:58:11.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 16.6432ms
2025-10-30 07:58:11.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:11.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.7455ms
2025-10-30 07:58:40.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:58:40.356 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:40.356 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:58:40.359 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:40.366 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:58:40.367 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:58:40.367 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.3731ms
2025-10-30 07:58:40.367 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:40.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 12.9742ms
2025-10-30 07:58:42.525 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 07:58:42.533 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:58:42.533 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:58:42.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:42.539 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 07:58:42.539 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:58:42.541 +02:00 [INF] Executed ViewResult - view Index executed in 1.7352ms.
2025-10-30 07:58:42.541 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 7.4781ms
2025-10-30 07:58:42.541 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:58:42.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 16.3819ms
2025-10-30 07:58:42.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:58:42.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:58:42.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.3454ms
2025-10-30 07:58:42.573 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.9686ms
2025-10-30 07:58:42.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:58:42.748 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:42.748 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:58:42.750 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:42.753 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:58:42.753 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:58:42.753 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.2189ms
2025-10-30 07:58:42.754 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:42.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 6.5967ms
2025-10-30 07:58:43.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/favicon.ico - null null
2025-10-30 07:58:43.134 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\wwwroot\favicon.ico'
2025-10-30 07:58:43.134 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/favicon.ico - 200 5430 image/x-icon 32.2536ms
2025-10-30 07:58:44.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 07:58:44.764 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:58:44.765 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:58:44.767 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:44.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 07:58:44.770 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 07:58:44.771 +02:00 [INF] Executed ViewResult - view Index executed in 1.1091ms.
2025-10-30 07:58:44.771 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 6.7981ms
2025-10-30 07:58:44.771 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 07:58:44.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 9.9326ms
2025-10-30 07:58:44.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:58:44.794 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:58:44.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.6709ms
2025-10-30 07:58:44.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.0859ms
2025-10-30 07:58:44.872 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:58:44.873 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:44.873 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:58:44.875 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:44.878 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:58:44.879 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:58:44.879 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.3489ms
2025-10-30 07:58:44.879 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:44.880 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.8962ms
2025-10-30 07:58:47.236 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 07:58:47.239 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:58:47.239 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 07:58:47.241 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:47.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 07:58:47.245 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 07:58:47.245 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 07:58:47.246 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 1.2788ms.
2025-10-30 07:58:47.246 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 7.0575ms
2025-10-30 07:58:47.246 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 07:58:47.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 10.1041ms
2025-10-30 07:58:47.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 07:58:47.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 07:58:47.262 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.5924ms
2025-10-30 07:58:47.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.9829ms
2025-10-30 07:58:47.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:58:47.345 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:47.345 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:58:47.347 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:58:47.349 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:58:47.350 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:58:47.350 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.0714ms
2025-10-30 07:58:47.350 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:58:47.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 6.2343ms
2025-10-30 07:59:17.361 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:59:17.365 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:59:17.366 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:59:17.374 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:59:17.385 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:59:17.385 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:59:17.386 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 20.3191ms
2025-10-30 07:59:17.386 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:59:17.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 25.9041ms
2025-10-30 07:59:48.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 07:59:48.295 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:59:48.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 07:59:48.302 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 07:59:48.312 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 07:59:48.312 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 07:59:48.314 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 18.5756ms
2025-10-30 07:59:48.314 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 07:59:48.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 23.7289ms
2025-10-30 08:00:13.657 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 494
2025-10-30 08:00:13.661 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:00:13.661 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:00:13.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:00:13.670 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p1].[Id], [p1].[ActualCost], [p1].[Budget], [p1].[ClientId], [p1].[CreatedAt], [p1].[Description], [p1].[EndDate], [p1].[Location], [p1].[Name], [p1].[ProjectManagerId], [p1].[StartDate], [p1].[Status], [p1].[UpdatedAt], [p0].[Id], [p0].[ActualCost], [p0].[Budget], [p0].[CreatedAt], [p0].[Description], [p0].[EndDate], [p0].[Name], [p0].[Order], [p0].[ProjectId], [p0].[StartDate], [p0].[Status], [p0].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
FROM (
    SELECT TOP(1) [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    WHERE [p].[Id] = @__projectId_0
) AS [p1]
LEFT JOIN [ProjectPhases] AS [p0] ON [p1].[Id] = [p0].[ProjectId]
LEFT JOIN [MaintenanceRequests] AS [m] ON [p1].[Id] = [m].[ProjectId]
ORDER BY [p1].[Id], [p0].[Id]
2025-10-30 08:00:13.673 +02:00 [INF] Sending request to DeepSeek API
2025-10-30 08:00:13.673 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1
2025-10-30 08:00:13.673 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1
2025-10-30 08:00:17.350 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:00:17.351 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:00:17.351 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:00:17.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:00:17.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:00:17.360 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:00:17.362 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 10.8112ms
2025-10-30 08:00:17.362 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:00:17.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.9974ms
2025-10-30 08:00:40.001 +02:00 [INF] Received HTTP response headers after 26327.5017ms - 404
2025-10-30 08:00:40.001 +02:00 [INF] End processing HTTP request after 26327.973ms - 404
2025-10-30 08:00:40.002 +02:00 [ERR] DeepSeek API error: NotFound - {
  "error_msg": "Not Found. Please check the configuration."
}
2025-10-30 08:00:40.071 +02:00 [ERR] Error calling DeepSeek API
System.Exception: DeepSeek API request failed: NotFound
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
2025-10-30 08:00:40.130 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API request failed: NotFound
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 08:00:40.131 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:00:40.131 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 26470.2811ms
2025-10-30 08:00:40.131 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:00:40.132 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 26475.6302ms
2025-10-30 08:00:40.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:00:40.138 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:00:40.138 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:00:40.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:00:40.141 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:00:40.142 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:00:40.142 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:00:40.143 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 1.0787ms.
2025-10-30 08:00:40.143 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 5.4381ms
2025-10-30 08:00:40.143 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:00:40.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 8.232ms
2025-10-30 08:00:40.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:00:40.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:00:40.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.2122ms
2025-10-30 08:00:40.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0181ms
2025-10-30 08:00:40.276 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:00:40.276 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:00:40.276 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:00:40.278 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:00:40.282 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:00:40.282 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:00:40.283 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.0886ms
2025-10-30 08:00:40.283 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:00:40.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.2245ms
2025-10-30 08:01:10.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:01:10.286 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:01:10.286 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:01:10.291 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:01:10.299 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:01:10.300 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:01:10.300 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.8474ms
2025-10-30 08:01:10.300 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:01:10.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 15.4284ms
2025-10-30 08:01:40.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:01:40.298 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:01:40.298 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:01:40.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:01:40.302 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:01:40.303 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:01:40.306 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.7505ms
2025-10-30 08:01:40.306 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:01:40.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.9993ms
2025-10-30 08:02:10.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:02:10.292 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:10.292 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:02:10.297 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:10.304 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:02:10.305 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:02:10.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 16.0547ms
2025-10-30 08:02:10.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:10.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 17.619ms
2025-10-30 08:02:40.573 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 08:02:41.452 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:02:41.452 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:02:42.063 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 08:02:42.080 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 08:02:42.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 08:02:42.248 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 08:02:42.249 +02:00 [INF] Hosting environment: Development
2025-10-30 08:02:42.249 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 08:02:42.347 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:02:42.359 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 08:02:42.367 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:02:42.442 +02:00 [INF] Executed ViewResult - view Index executed in 77.1635ms.
2025-10-30 08:02:42.444 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Index (BCSApp) in 84.5254ms
2025-10-30 08:02:42.444 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:02:42.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 200 null text/html; charset=utf-8 264.2287ms
2025-10-30 08:02:42.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:02:42.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 2.8404ms
2025-10-30 08:02:42.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:02:42.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2693ms
2025-10-30 08:02:42.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:02:42.676 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:42.681 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:02:42.840 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:42.995 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:02:43.004 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:02:43.039 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 357.7656ms
2025-10-30 08:02:43.039 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:43.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 386.1378ms
2025-10-30 08:02:52.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Maintenance - null null
2025-10-30 08:02:52.649 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MaintenanceController.Index (BCSApp)'
2025-10-30 08:02:52.653 +02:00 [INF] Route matched with {action = "Index", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.MaintenanceController (BCSApp).
2025-10-30 08:02:52.704 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:52.809 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[ClientId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[AssignedToId] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [m].[ProjectId] = [p].[Id]
LEFT JOIN [Documents] AS [d] ON [m].[Id] = [d].[MaintenanceRequestId]
ORDER BY [m].[CreatedAt] DESC, [m].[Id], [a].[Id], [a0].[Id], [p].[Id]
2025-10-30 08:02:52.891 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:02:52.902 +02:00 [INF] Executed ViewResult - view Index executed in 11.4462ms.
2025-10-30 08:02:52.902 +02:00 [INF] Executed action BCSApp.Controllers.MaintenanceController.Index (BCSApp) in 249.4268ms
2025-10-30 08:02:52.902 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MaintenanceController.Index (BCSApp)'
2025-10-30 08:02:52.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Maintenance - 200 null text/html; charset=utf-8 282.3875ms
2025-10-30 08:02:52.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:02:52.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:02:52.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.8174ms
2025-10-30 08:02:52.931 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8899ms
2025-10-30 08:02:53.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:02:53.006 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:53.006 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:02:53.010 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:53.013 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:02:53.014 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:02:53.014 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.4262ms
2025-10-30 08:02:53.014 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:53.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 10.621ms
2025-10-30 08:02:54.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Home/Dashboard - null null
2025-10-30 08:02:54.513 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Dashboard (BCSApp)'
2025-10-30 08:02:54.518 +02:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 08:02:54.525 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:54.531 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
2025-10-30 08:02:54.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Projects] AS [p]
WHERE [p].[Status] = N'In Progress'
2025-10-30 08:02:54.543 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [MaintenanceRequests] AS [m]
2025-10-30 08:02:54.548 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [MaintenanceRequests] AS [m]
WHERE [m].[Status] = N'Pending'
2025-10-30 08:02:54.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tasks] AS [t]
2025-10-30 08:02:54.563 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tasks] AS [t]
WHERE [t].[DueDate] < GETDATE() AND [t].[Status] <> N'Completed'
2025-10-30 08:02:54.589 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[ActualCost], [p0].[Budget], [p0].[ClientId], [p0].[CreatedAt], [p0].[Description], [p0].[EndDate], [p0].[Location], [p0].[Name], [p0].[ProjectManagerId], [p0].[StartDate], [p0].[Status], [p0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
    FROM [Projects] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [p0]
LEFT JOIN [AspNetUsers] AS [a] ON [p0].[ProjectManagerId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [p0].[ClientId] = [a0].[Id]
ORDER BY [p0].[CreatedAt] DESC
2025-10-30 08:02:54.606 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[Id], [m0].[ActualCost], [m0].[AssignedToId], [m0].[ClientId], [m0].[CompletedAt], [m0].[CreatedAt], [m0].[Description], [m0].[DueDate], [m0].[EstimatedCost], [m0].[Location], [m0].[Priority], [m0].[ProjectId], [m0].[PropertyType], [m0].[Status], [m0].[Title], [m0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
    FROM [MaintenanceRequests] AS [m]
    ORDER BY [m].[CreatedAt] DESC
) AS [m0]
INNER JOIN [AspNetUsers] AS [a] ON [m0].[ClientId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m0].[AssignedToId] = [a0].[Id]
ORDER BY [m0].[CreatedAt] DESC
2025-10-30 08:02:54.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[ActualCost], [t0].[AssignedToId], [t0].[CompletedAt], [t0].[CreatedAt], [t0].[CreatedById], [t0].[Description], [t0].[DueDate], [t0].[EstimatedCost], [t0].[MaintenanceRequestId], [t0].[Priority], [t0].[ProjectPhaseId], [t0].[Status], [t0].[Title], [t0].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName]
FROM (
    SELECT TOP(@__p_0) [t].[Id], [t].[ActualCost], [t].[AssignedToId], [t].[CompletedAt], [t].[CreatedAt], [t].[CreatedById], [t].[Description], [t].[DueDate], [t].[EstimatedCost], [t].[MaintenanceRequestId], [t].[Priority], [t].[ProjectPhaseId], [t].[Status], [t].[Title], [t].[UpdatedAt]
    FROM [Tasks] AS [t]
    ORDER BY [t].[CreatedAt] DESC
) AS [t0]
INNER JOIN [AspNetUsers] AS [a] ON [t0].[AssignedToId] = [a].[Id]
INNER JOIN [AspNetUsers] AS [a0] ON [t0].[CreatedById] = [a0].[Id]
ORDER BY [t0].[CreatedAt] DESC
2025-10-30 08:02:54.668 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Status], COUNT(*) AS [Count]
FROM [Projects] AS [p]
GROUP BY [p].[Status]
2025-10-30 08:02:54.678 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Priority], COUNT(*) AS [Count]
FROM [MaintenanceRequests] AS [m]
GROUP BY [m].[Priority]
2025-10-30 08:02:54.684 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Status], COUNT(*) AS [Count]
FROM [Tasks] AS [t]
GROUP BY [t].[Status]
2025-10-30 08:02:54.690 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:02:54.693 +02:00 [INF] Executing ViewResult, running view Dashboard.
2025-10-30 08:02:54.714 +02:00 [INF] Executed ViewResult - view Dashboard executed in 21.4832ms.
2025-10-30 08:02:54.714 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Dashboard (BCSApp) in 195.4799ms
2025-10-30 08:02:54.714 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Dashboard (BCSApp)'
2025-10-30 08:02:54.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Home/Dashboard - 200 null text/html; charset=utf-8 209.2841ms
2025-10-30 08:02:54.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:02:54.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:02:54.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 2.2621ms
2025-10-30 08:02:54.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.6841ms
2025-10-30 08:02:54.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:02:54.829 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:54.829 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:02:54.831 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:54.834 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:02:54.834 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:02:54.835 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.9549ms
2025-10-30 08:02:54.835 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:54.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.3097ms
2025-10-30 08:02:58.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 08:02:58.349 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:02:58.352 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:02:58.360 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:58.384 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 08:02:58.385 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:02:58.389 +02:00 [INF] Executed ViewResult - view Index executed in 4.4885ms.
2025-10-30 08:02:58.389 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 37.1005ms
2025-10-30 08:02:58.389 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:02:58.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 46.6737ms
2025-10-30 08:02:58.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:02:58.409 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:02:58.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.3668ms
2025-10-30 08:02:58.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9432ms
2025-10-30 08:02:58.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:02:58.475 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:58.475 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:02:58.477 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:02:58.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:02:58.481 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:02:58.481 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.6337ms
2025-10-30 08:02:58.481 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:02:58.481 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 6.6835ms
2025-10-30 08:03:27.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/RiskAnalysis - null null
2025-10-30 08:03:27.972 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.RiskAnalysis (BCSApp)'
2025-10-30 08:03:27.974 +02:00 [INF] Route matched with {action = "RiskAnalysis", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RiskAnalysis() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:03:27.994 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-30 08:03:28.017 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [p0].[Id], [p0].[ActualCost], [p0].[Budget], [p0].[CreatedAt], [p0].[Description], [p0].[EndDate], [p0].[Name], [p0].[Order], [p0].[ProjectId], [p0].[StartDate], [p0].[Status], [p0].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt]
FROM [Projects] AS [p]
LEFT JOIN [ProjectPhases] AS [p0] ON [p].[Id] = [p0].[ProjectId]
LEFT JOIN [MaintenanceRequests] AS [m] ON [p].[Id] = [m].[ProjectId]
WHERE [p].[Status] IN (N'Planning', N'In Progress')
ORDER BY [p].[Id], [p0].[Id]
2025-10-30 08:03:28.043 +02:00 [INF] Executing ViewResult, running view RiskAnalysis.
2025-10-30 08:03:28.046 +02:00 [ERR] The view 'RiskAnalysis' was not found. Searched locations: ["/Views/AIAnalysis/RiskAnalysis.cshtml","/Views/Shared/RiskAnalysis.cshtml","/Pages/Shared/RiskAnalysis.cshtml"]
2025-10-30 08:03:28.055 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.RiskAnalysis (BCSApp) in 80.9159ms
2025-10-30 08:03:28.055 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.RiskAnalysis (BCSApp)'
2025-10-30 08:03:28.057 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'RiskAnalysis' was not found. The following locations were searched:
/Views/AIAnalysis/RiskAnalysis.cshtml
/Views/Shared/RiskAnalysis.cshtml
/Pages/Shared/RiskAnalysis.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-30 08:03:28.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/RiskAnalysis - 500 null text/html; charset=utf-8 131.1727ms
2025-10-30 08:03:28.105 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:03:28.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:03:28.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.2237ms
2025-10-30 08:03:28.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.1037ms
2025-10-30 08:03:29.173 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 08:03:29.176 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:03:29.176 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:03:29.179 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:03:29.181 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 08:03:29.182 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:03:29.183 +02:00 [INF] Executed ViewResult - view Index executed in 1.7271ms.
2025-10-30 08:03:29.184 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 7.8012ms
2025-10-30 08:03:29.184 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:03:29.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 11.1395ms
2025-10-30 08:03:29.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:03:29.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.1077ms
2025-10-30 08:03:30.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:03:30.451 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:03:30.454 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:03:30.458 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:03:30.461 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:03:30.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:03:30.471 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:03:30.505 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 34.5525ms.
2025-10-30 08:03:30.505 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 50.4926ms
2025-10-30 08:03:30.505 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:03:30.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 60.9728ms
2025-10-30 08:03:30.521 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:03:30.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:03:30.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.6204ms
2025-10-30 08:03:30.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.0625ms
2025-10-30 08:03:30.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:03:30.609 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:03:30.609 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:03:30.611 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:03:30.614 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:03:30.614 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:03:30.615 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.0907ms
2025-10-30 08:03:30.615 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:03:30.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 6.232ms
2025-10-30 08:03:56.282 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 499
2025-10-30 08:03:56.292 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:03:56.304 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:03:56.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:03:56.353 +02:00 [INF] Sending request to DeepSeek API
2025-10-30 08:03:56.355 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1
2025-10-30 08:03:56.358 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1
2025-10-30 08:04:00.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:04:00.617 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:00.617 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:04:00.622 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:04:00.628 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:04:00.628 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:04:00.629 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.516ms
2025-10-30 08:04:00.629 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:00.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 13.4561ms
2025-10-30 08:04:26.736 +02:00 [INF] Received HTTP response headers after 30376.7833ms - 404
2025-10-30 08:04:26.737 +02:00 [INF] End processing HTTP request after 30383.0168ms - 404
2025-10-30 08:04:26.739 +02:00 [ERR] DeepSeek API error: NotFound - {
  "error_msg": "Not Found. Please check the configuration."
}
2025-10-30 08:04:26.804 +02:00 [ERR] Error calling DeepSeek API
System.Exception: DeepSeek API request failed: NotFound
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
2025-10-30 08:04:26.884 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API request failed: NotFound
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 75
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 08:04:26.886 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:04:26.903 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 30598.84ms
2025-10-30 08:04:26.903 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:04:26.904 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 30622.5462ms
2025-10-30 08:04:26.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:04:26.909 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:04:26.910 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:04:26.921 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:04:26.923 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:04:26.929 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:04:26.929 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:04:26.941 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 12.5212ms.
2025-10-30 08:04:26.942 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 31.9442ms
2025-10-30 08:04:26.942 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:04:26.942 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 35.2309ms
2025-10-30 08:04:26.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:04:26.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:04:26.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.7541ms
2025-10-30 08:04:26.967 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.1742ms
2025-10-30 08:04:27.067 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:04:27.069 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:27.069 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:04:27.071 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:04:27.074 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:04:27.074 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:04:27.074 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.4053ms
2025-10-30 08:04:27.074 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:27.075 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.323ms
2025-10-30 08:04:57.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:04:57.294 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:57.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:04:57.299 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:04:57.301 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:04:57.301 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:04:57.301 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.6338ms
2025-10-30 08:04:57.301 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:04:57.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.3445ms
2025-10-30 08:05:27.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:05:27.083 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:05:27.083 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:05:27.096 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:05:27.111 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:05:27.116 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:05:27.118 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 34.615ms
2025-10-30 08:05:27.118 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:05:27.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 38.5689ms
2025-10-30 08:05:57.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:05:57.076 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:05:57.076 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:05:57.080 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:05:57.088 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:05:57.089 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:05:57.095 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 18.6703ms
2025-10-30 08:05:57.095 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:05:57.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 19.8015ms
2025-10-30 08:06:27.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:06:27.299 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:06:27.299 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:06:27.305 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:06:27.314 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:06:27.316 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:06:27.316 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 16.8755ms
2025-10-30 08:06:27.316 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:06:27.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.1661ms
2025-10-30 08:06:57.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:06:57.287 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:06:57.287 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:06:57.292 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:06:57.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:06:57.298 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:06:57.302 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.4991ms
2025-10-30 08:06:57.302 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:06:57.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.1499ms
2025-10-30 08:07:27.294 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:07:27.296 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:07:27.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:07:27.301 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:07:27.311 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:07:27.311 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:07:27.317 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 21.3713ms
2025-10-30 08:07:27.317 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:07:27.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 23.3049ms
2025-10-30 08:07:57.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:07:57.300 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:07:57.300 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:07:57.307 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:07:57.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:07:57.313 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:07:57.313 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 12.7748ms
2025-10-30 08:07:57.313 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:07:57.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.6054ms
2025-10-30 08:11:19.227 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 08:11:20.059 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:11:20.059 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:11:20.668 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 08:11:20.685 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 08:11:20.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 08:11:20.851 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 08:11:20.851 +02:00 [INF] Hosting environment: Development
2025-10-30 08:11:20.851 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 08:11:20.963 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:11:20.989 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 08:11:21.000 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:11:21.083 +02:00 [INF] Executed ViewResult - view Index executed in 86.4648ms.
2025-10-30 08:11:21.086 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Index (BCSApp) in 96.014ms
2025-10-30 08:11:21.086 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:11:21.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 200 null text/html; charset=utf-8 304.0539ms
2025-10-30 08:11:21.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:11:21.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 4.5446ms
2025-10-30 08:11:21.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:11:21.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.5865ms
2025-10-30 08:11:21.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:11:21.326 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:21.331 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:11:21.480 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:11:21.615 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:11:21.622 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:11:21.654 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 323.0638ms
2025-10-30 08:11:21.654 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:21.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 339.3936ms
2025-10-30 08:11:27.640 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 08:11:27.663 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:11:27.666 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:11:27.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:11:27.796 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 08:11:27.799 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:11:27.805 +02:00 [INF] Executed ViewResult - view Index executed in 7.2575ms.
2025-10-30 08:11:27.806 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 139.5425ms
2025-10-30 08:11:27.806 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:11:27.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 166.4855ms
2025-10-30 08:11:27.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:11:27.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:11:27.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.8249ms
2025-10-30 08:11:27.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.2363ms
2025-10-30 08:11:27.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:11:27.926 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:27.926 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:11:27.931 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:11:27.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:11:27.937 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:11:27.938 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.4885ms
2025-10-30 08:11:27.938 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:27.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.2547ms
2025-10-30 08:11:58.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:11:58.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:58.293 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:11:58.303 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:11:58.307 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:11:58.308 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:11:58.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 15.068ms
2025-10-30 08:11:58.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:11:58.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.5665ms
2025-10-30 08:12:28.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:12:28.289 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:28.289 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:12:28.302 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:28.307 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:12:28.307 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:12:28.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 18.2233ms
2025-10-30 08:12:28.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:28.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 20.0658ms
2025-10-30 08:12:34.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:12:34.961 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:12:34.964 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:12:34.975 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:34.983 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:12:35.035 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:12:35.060 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:12:35.095 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 35.6095ms.
2025-10-30 08:12:35.095 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 130.5215ms
2025-10-30 08:12:35.095 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:12:35.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 139.1779ms
2025-10-30 08:12:35.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:12:35.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:12:35.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.7414ms
2025-10-30 08:12:35.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5612ms
2025-10-30 08:12:35.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:12:35.242 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:35.242 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:12:35.245 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:35.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:12:35.248 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:12:35.249 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.395ms
2025-10-30 08:12:35.249 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:35.250 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 9.0739ms
2025-10-30 08:12:38.922 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 499
2025-10-30 08:12:38.930 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:12:38.940 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:12:38.964 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:38.968 +02:00 [INF] Preparing DeepSeek API request...
2025-10-30 08:12:38.981 +02:00 [INF] Sending request to DeepSeek API: https://api.deepseek.com/v1/chat/completions
2025-10-30 08:12:38.981 +02:00 [INF] Request payload: {"model":"deepseek-chat","messages":[{"role":"system","content":"You are an expert AI assistant specializing in construction project management, cost estimation, risk analysis, and predictive maintenance for South African construction projects. Provide detailed, actionable insights based on data analysis."},{"role":"user","content":"You are an expert construction cost estimator for a South African construction company. \r\nAnalyze the following project information and provide a detailed cost estimation breakdown.\r\n\r\nProject Information:\r\n- Name: Not specified\r\n- Location: Not specified\r\n- Budget: R0.00\r\n- Description: - Building type: 2-story residential house\r\n- Size: 250 sqm\r\n- Location: Johannesburg, Gauteng\r\n- Materials: Brick and mortar\r\n- Special features: Solar panels, swimming pool\r\n- Timeline: 6 months\r\n\r\n- Number of Phases: 0\r\n- Document: No blueprint provided\r\n\r\nPlease provide:\r\n1. Detailed cost breakdown by category (Materials, Labor, Equipment, Permits, Contingency)\r\n2. Timeline estimation\r\n3. Risk factors that may affect costs\r\n4. Recommendations for cost optimization\r\n5. Confidence level (High/Medium/Low) for the estimation\r\n\r\nFormat your response as a structured analysis with clear sections and specific ZAR (South African Rand) amounts."}],"maxTokens":2000,"temperature":0.7,"topP":0.95,"stream":false}
2025-10-30 08:12:38.985 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:12:38.987 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:12:40.885 +02:00 [INF] Received HTTP response headers after 1895.2322ms - 401
2025-10-30 08:12:40.886 +02:00 [INF] End processing HTTP request after 1903.3009ms - 401
2025-10-30 08:12:40.889 +02:00 [INF] Received response status: Unauthorized
2025-10-30 08:12:40.889 +02:00 [ERR] DeepSeek API error: Unauthorized - {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 08:12:40.962 +02:00 [ERR] Unexpected error calling DeepSeek API
System.Exception: DeepSeek API authorization failed. Please check your API key.
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 96
2025-10-30 08:12:41.050 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API authorization failed. Please check your API key.
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 96
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 08:12:41.052 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:12:41.081 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 2140.9202ms
2025-10-30 08:12:41.081 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:12:41.082 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 2160.1098ms
2025-10-30 08:12:41.084 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:12:41.087 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:12:41.087 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:12:41.089 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:41.091 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:12:41.092 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:12:41.093 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:12:41.105 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 12.6159ms.
2025-10-30 08:12:41.105 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 18.615ms
2025-10-30 08:12:41.105 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:12:41.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 21.3516ms
2025-10-30 08:12:41.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:12:41.124 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:12:41.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 2.0383ms
2025-10-30 08:12:41.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0446ms
2025-10-30 08:12:41.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:12:41.210 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:41.210 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:12:41.213 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:12:41.215 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:12:41.216 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:12:41.216 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.9299ms
2025-10-30 08:12:41.216 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:12:41.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.7145ms
2025-10-30 08:13:11.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:13:11.296 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:13:11.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:13:11.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:13:11.302 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:13:11.303 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:13:11.306 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 9.2137ms
2025-10-30 08:13:11.306 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:13:11.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.0997ms
2025-10-30 08:13:41.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:13:41.298 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:13:41.298 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:13:41.311 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:13:41.325 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:13:41.325 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:13:41.326 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 27.2629ms
2025-10-30 08:13:41.326 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:13:41.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 30.9541ms
2025-10-30 08:14:11.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:14:11.299 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:14:11.320 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-10-30 08:14:11.340 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-30 08:14:11.349 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-30 08:14:11.362 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-10-30 08:14:11.365 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:14:11.365 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:14:11.368 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:14:11.369 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:14:11.371 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.2252ms
2025-10-30 08:14:11.371 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:14:11.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 75.954ms
2025-10-30 08:14:41.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:14:41.288 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:14:41.288 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:14:41.291 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:14:41.297 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:14:41.297 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:14:41.300 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.7121ms
2025-10-30 08:14:41.300 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:14:41.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.8607ms
2025-10-30 08:15:11.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:15:11.287 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:15:11.287 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:15:11.294 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:15:11.299 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:15:11.300 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:15:11.302 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.6436ms
2025-10-30 08:15:11.302 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:15:11.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.5359ms
2025-10-30 08:15:41.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:15:41.211 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:15:41.211 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:15:41.214 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:15:41.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:15:41.217 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:15:41.220 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 8.6711ms
2025-10-30 08:15:41.220 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:15:41.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 10.0926ms
2025-10-30 08:16:11.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:16:11.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:16:11.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:16:11.308 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:16:11.320 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:16:11.321 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:16:11.321 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 26.3812ms
2025-10-30 08:16:11.321 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:16:11.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 29.7538ms
2025-10-30 08:16:41.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:16:41.297 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:16:41.297 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:16:41.302 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:16:41.309 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:16:41.310 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:16:41.312 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 15.483ms
2025-10-30 08:16:41.313 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:16:41.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.3193ms
2025-10-30 08:17:14.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:17:14.273 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:17:14.273 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:17:14.278 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:17:14.285 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:17:14.286 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:17:14.289 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 16.3754ms
2025-10-30 08:17:14.289 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:17:14.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.581ms
2025-10-30 08:17:41.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:17:41.289 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:17:41.289 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:17:41.293 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:17:41.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:17:41.299 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:17:41.300 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 10.3019ms
2025-10-30 08:17:41.300 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:17:41.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.5344ms
2025-10-30 08:18:11.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:18:11.296 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:18:11.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:18:11.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:18:11.303 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:18:11.303 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:18:11.303 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.0678ms
2025-10-30 08:18:11.304 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:18:11.304 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 9.0144ms
2025-10-30 08:18:41.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:18:41.299 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:18:41.299 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:18:41.304 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:18:41.310 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:18:41.311 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:18:41.314 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.8937ms
2025-10-30 08:18:41.314 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:18:41.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.3386ms
2025-10-30 08:19:11.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:19:11.295 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:11.295 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:19:11.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:19:11.306 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:19:11.306 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:19:11.309 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.366ms
2025-10-30 08:19:11.309 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:11.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.8529ms
2025-10-30 08:19:41.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:19:41.296 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:41.296 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:19:41.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:19:41.307 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:19:41.308 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:19:41.311 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 15.2589ms
2025-10-30 08:19:41.311 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:41.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.5579ms
2025-10-30 08:19:58.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:19:58.766 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:19:58.766 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:19:58.769 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:19:58.771 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:19:58.772 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:19:58.773 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:19:58.774 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 1.3856ms.
2025-10-30 08:19:58.774 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 8.2089ms
2025-10-30 08:19:58.774 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:19:58.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 17.6868ms
2025-10-30 08:19:58.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:19:58.796 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:19:58.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.1632ms
2025-10-30 08:19:58.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.0516ms
2025-10-30 08:19:58.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:19:58.918 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:58.918 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:19:58.920 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:19:58.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:19:58.922 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:19:58.922 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 4.3982ms
2025-10-30 08:19:58.922 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:19:58.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 5.5649ms
2025-10-30 08:20:29.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:20:29.289 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:20:29.289 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:20:29.291 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:20:29.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:20:29.298 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:20:29.302 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.0327ms
2025-10-30 08:20:29.302 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:20:29.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.5277ms
2025-10-30 08:20:59.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:20:59.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:20:59.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:20:59.305 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:20:59.320 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:20:59.321 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:20:59.321 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 27.5064ms
2025-10-30 08:20:59.322 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:20:59.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 32.1534ms
2025-10-30 08:21:15.773 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 487
2025-10-30 08:21:15.779 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:21:15.779 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:21:15.783 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:21:15.785 +02:00 [INF] Preparing DeepSeek API request...
2025-10-30 08:21:15.786 +02:00 [INF] Sending request to DeepSeek API: https://api.deepseek.com/v1/chat/completions
2025-10-30 08:21:15.786 +02:00 [INF] Request payload: {"model":"deepseek-chat","messages":[{"role":"system","content":"You are an expert AI assistant specializing in construction project management, cost estimation, risk analysis, and predictive maintenance for South African construction projects. Provide detailed, actionable insights based on data analysis."},{"role":"user","content":"You are an expert construction cost estimator for a South African construction company. \r\nAnalyze the following project information and provide a detailed cost estimation breakdown.\r\n\r\nProject Information:\r\n- Name: Not specified\r\n- Location: Not specified\r\n- Budget: R0.00\r\n- Description: Building type: 2-story residential house\r\nSize: 250 sqm\r\nLocation: Johannesburg, Gauteng\r\nMaterials: Brick and mortar\r\nSpecial features: Solar panels, swimming pool\r\nTimeline: 6 months\r\n\r\n- Number of Phases: 0\r\n- Document: No blueprint provided\r\n\r\nPlease provide:\r\n1. Detailed cost breakdown by category (Materials, Labor, Equipment, Permits, Contingency)\r\n2. Timeline estimation\r\n3. Risk factors that may affect costs\r\n4. Recommendations for cost optimization\r\n5. Confidence level (High/Medium/Low) for the estimation\r\n\r\nFormat your response as a structured analysis with clear sections and specific ZAR (South African Rand) amounts."}],"maxTokens":2000,"temperature":0.7,"topP":0.95,"stream":false}
2025-10-30 08:21:15.786 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:21:15.786 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:21:28.921 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:21:28.923 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:21:28.923 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:21:28.926 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:21:28.931 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:21:28.931 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:21:28.932 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 8.609ms
2025-10-30 08:21:28.932 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:21:28.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.4986ms
2025-10-30 08:21:45.965 +02:00 [INF] Received HTTP response headers after 30178.6069ms - 401
2025-10-30 08:21:45.965 +02:00 [INF] End processing HTTP request after 30178.8688ms - 401
2025-10-30 08:21:45.966 +02:00 [INF] Received response status: Unauthorized
2025-10-30 08:21:45.966 +02:00 [ERR] DeepSeek API error: Unauthorized - {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 08:21:46.004 +02:00 [ERR] Unexpected error calling DeepSeek API
System.Exception: DeepSeek API authorization failed. Please check your API key.
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 96
2025-10-30 08:21:46.062 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API authorization failed. Please check your API key.
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 96
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 08:21:46.062 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:21:46.063 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 30283.4716ms
2025-10-30 08:21:46.063 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:21:46.063 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 30290.6218ms
2025-10-30 08:21:46.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:21:46.069 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:21:46.069 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:21:46.071 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:21:46.073 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:21:46.074 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:21:46.074 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:21:46.075 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 1.1212ms.
2025-10-30 08:21:46.075 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 5.8394ms
2025-10-30 08:21:46.075 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:21:46.075 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 9.0475ms
2025-10-30 08:21:46.092 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:21:46.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:21:46.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.9056ms
2025-10-30 08:21:46.102 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.7756ms
2025-10-30 08:21:46.204 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:21:46.205 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:21:46.205 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:21:46.206 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:21:46.209 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:21:46.209 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:21:46.210 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 4.7947ms
2025-10-30 08:21:46.210 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:21:46.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 5.9752ms
2025-10-30 08:22:16.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:22:16.304 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:22:16.305 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:22:16.313 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:22:16.323 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:22:16.329 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:22:16.330 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 24.7921ms
2025-10-30 08:22:16.330 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:22:16.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 29.7436ms
2025-10-30 08:22:46.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:22:46.287 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:22:46.287 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:22:46.288 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:22:46.291 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:22:46.292 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:22:46.294 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 7.378ms
2025-10-30 08:22:46.294 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:22:46.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.3106ms
2025-10-30 08:23:16.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:23:16.294 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:23:16.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:23:16.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:23:16.307 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:23:16.307 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:23:16.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.6039ms
2025-10-30 08:23:16.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:23:16.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 17.6082ms
2025-10-30 08:23:46.297 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:23:46.298 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:23:46.298 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:23:46.305 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:23:46.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:23:46.316 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:23:46.319 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 20.5833ms
2025-10-30 08:23:46.319 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:23:46.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 22.2362ms
2025-10-30 08:24:16.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:24:16.301 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:24:16.301 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:24:16.310 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:24:16.320 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:24:16.322 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:24:16.326 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 25.1122ms
2025-10-30 08:24:16.326 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:24:16.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 28.7418ms
2025-10-30 08:30:25.168 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 08:30:26.124 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:30:26.124 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:30:27.565 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 08:30:27.582 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 08:30:27.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 08:30:27.755 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 08:30:27.756 +02:00 [INF] Hosting environment: Development
2025-10-30 08:30:27.756 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 08:30:27.848 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:30:27.861 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 08:30:27.868 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:30:27.945 +02:00 [INF] Executed ViewResult - view Index executed in 78.5367ms.
2025-10-30 08:30:27.947 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Index (BCSApp) in 85.9347ms
2025-10-30 08:30:27.948 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:30:27.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:30:27.958 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 200 null text/html; charset=utf-8 266.1189ms
2025-10-30 08:30:27.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 3.9631ms
2025-10-30 08:30:27.969 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:30:27.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.2522ms
2025-10-30 08:30:28.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:30:28.198 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:28.204 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:30:28.382 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:28.532 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:30:28.540 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:30:28.571 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 367.2834ms
2025-10-30 08:30:28.572 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:28.576 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 397.2783ms
2025-10-30 08:30:34.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Maintenance - null null
2025-10-30 08:30:34.221 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MaintenanceController.Index (BCSApp)'
2025-10-30 08:30:34.224 +02:00 [INF] Route matched with {action = "Index", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.MaintenanceController (BCSApp).
2025-10-30 08:30:34.272 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:34.387 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[ClientId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[AssignedToId] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [m].[ProjectId] = [p].[Id]
LEFT JOIN [Documents] AS [d] ON [m].[Id] = [d].[MaintenanceRequestId]
ORDER BY [m].[CreatedAt] DESC, [m].[Id], [a].[Id], [a0].[Id], [p].[Id]
2025-10-30 08:30:34.490 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:30:34.501 +02:00 [INF] Executed ViewResult - view Index executed in 11.7013ms.
2025-10-30 08:30:34.502 +02:00 [INF] Executed action BCSApp.Controllers.MaintenanceController.Index (BCSApp) in 277.5462ms
2025-10-30 08:30:34.502 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MaintenanceController.Index (BCSApp)'
2025-10-30 08:30:34.502 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Maintenance - 200 null text/html; charset=utf-8 311.4313ms
2025-10-30 08:30:34.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:30:34.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:30:34.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.3968ms
2025-10-30 08:30:34.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.0895ms
2025-10-30 08:30:34.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:30:34.610 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:34.610 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:30:34.613 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:34.616 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:30:34.617 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:30:34.617 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.8948ms
2025-10-30 08:30:34.617 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:34.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.1172ms
2025-10-30 08:30:39.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 08:30:39.095 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:30:39.101 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:30:39.106 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:30:39.113 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:39.139 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 08:30:39.140 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:30:39.145 +02:00 [INF] Executed ViewResult - view Index executed in 5.4844ms.
2025-10-30 08:30:39.145 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 44.3129ms
2025-10-30 08:30:39.145 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:30:39.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 56.4098ms
2025-10-30 08:30:39.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:30:39.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:30:39.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.1616ms
2025-10-30 08:30:39.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.1427ms
2025-10-30 08:30:39.240 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:30:39.241 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:39.241 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:30:39.245 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:39.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:30:39.248 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:30:39.248 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 6.8831ms
2025-10-30 08:30:39.248 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:39.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.8296ms
2025-10-30 08:30:40.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:30:40.925 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:30:40.928 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:30:40.929 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:30:40.939 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:40.946 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:30:40.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:30:40.984 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:30:41.017 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 32.8728ms.
2025-10-30 08:30:41.017 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 88.6178ms
2025-10-30 08:30:41.017 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:30:41.018 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 99.593ms
2025-10-30 08:30:41.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:30:41.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:30:41.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 0.8941ms
2025-10-30 08:30:41.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3633ms
2025-10-30 08:30:41.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:30:41.124 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:41.124 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:30:41.127 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:30:41.129 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:30:41.130 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:30:41.130 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.6031ms
2025-10-30 08:30:41.130 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:30:41.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 7.1947ms
2025-10-30 08:31:11.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:31:11.294 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:31:11.295 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:31:11.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:31:11.307 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:31:11.307 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:31:11.308 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.2104ms
2025-10-30 08:31:11.308 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:31:11.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.8079ms
2025-10-30 08:31:39.811 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 493
2025-10-30 08:31:39.821 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:31:39.829 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:31:39.840 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:31:39.856 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:31:39.864 +02:00 [INF] Sending request to DeepSeek API...
2025-10-30 08:31:39.879 +02:00 [INF] Sending request to DeepSeek API (Prompt length: 933 chars)
2025-10-30 08:31:39.883 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:31:39.885 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:31:41.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:31:41.136 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:31:41.136 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:31:41.144 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:31:41.152 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:31:41.153 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:31:41.154 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 17.9424ms
2025-10-30 08:31:41.154 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:31:41.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 21.6709ms
2025-10-30 08:32:11.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:32:11.136 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:11.136 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:32:11.143 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:32:11.156 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:32:11.157 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:32:11.157 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 20.454ms
2025-10-30 08:32:11.157 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:11.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 23.5697ms
2025-10-30 08:32:22.456 +02:00 [ERR] Error in GenerateCompletionAsync
System.Net.Http.HttpRequestException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. (api.deepseek.com:443)
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 101
2025-10-30 08:32:22.542 +02:00 [ERR] Error generating cost estimation
System.Net.Http.HttpRequestException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. (api.deepseek.com:443)
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 101
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 87
2025-10-30 08:32:22.546 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:32:22.569 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 42739.9413ms
2025-10-30 08:32:22.569 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:32:22.571 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 42759.7879ms
2025-10-30 08:32:22.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:32:22.580 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:32:22.580 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:32:22.580 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:32:22.582 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:32:22.583 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:32:22.584 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:32:22.585 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:32:22.598 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 13.8123ms.
2025-10-30 08:32:22.598 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 18.7106ms
2025-10-30 08:32:22.599 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:32:22.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 21.6614ms
2025-10-30 08:32:22.619 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:32:22.622 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:32:22.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 1.8939ms
2025-10-30 08:32:22.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.835ms
2025-10-30 08:32:22.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:32:22.728 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:22.728 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:32:22.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:32:22.733 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:32:22.733 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:32:22.734 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.7174ms
2025-10-30 08:32:22.734 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:22.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 8.3107ms
2025-10-30 08:32:53.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:32:53.305 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:53.306 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:32:53.316 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:32:53.325 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:32:53.329 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:32:53.330 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 23.9832ms
2025-10-30 08:32:53.330 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:32:53.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 27.2844ms
2025-10-30 08:33:23.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:33:23.294 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:33:23.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:33:23.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:33:23.304 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:33:23.304 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:33:23.307 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.0579ms
2025-10-30 08:33:23.307 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:33:23.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.5982ms
2025-10-30 08:33:53.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:33:53.291 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:33:53.291 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:33:53.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:33:53.296 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:33:53.297 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:33:53.300 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 8.4351ms
2025-10-30 08:33:53.300 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:33:53.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 11.7885ms
2025-10-30 08:34:23.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:34:23.291 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:34:23.291 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:34:23.297 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:34:23.304 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:34:23.305 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:34:23.307 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 16.4618ms
2025-10-30 08:34:23.307 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:34:23.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.4827ms
2025-10-30 08:34:53.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:34:53.287 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:34:53.287 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:34:53.290 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:34:53.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:34:53.298 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:34:53.302 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.6374ms
2025-10-30 08:34:53.302 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:34:53.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 16.1782ms
2025-10-30 08:35:23.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:35:23.297 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:35:23.297 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:35:23.306 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:35:23.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:35:23.313 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:35:23.315 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 17.9389ms
2025-10-30 08:35:23.316 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:35:23.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 21.4915ms
2025-10-30 08:35:50.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:35:50.672 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:35:50.675 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:35:50.676 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:35:50.678 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:35:50.681 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:35:50.683 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:35:50.684 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:35:50.687 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 3.8717ms.
2025-10-30 08:35:50.687 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 11.509ms
2025-10-30 08:35:50.687 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:35:50.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 25.6615ms
2025-10-30 08:35:50.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:35:50.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:35:50.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 5.1332ms
2025-10-30 08:35:50.720 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18ms
2025-10-30 08:35:50.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:35:50.990 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:35:50.992 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:35:50.994 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:35:50.997 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:35:50.997 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:35:50.998 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 5.1609ms
2025-10-30 08:35:50.998 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:35:50.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 10.224ms
2025-10-30 08:36:21.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:36:21.304 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:36:21.304 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:36:21.308 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:36:21.314 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:36:21.315 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:36:21.317 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 12.8272ms
2025-10-30 08:36:21.317 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:36:21.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 15.2263ms
2025-10-30 08:36:51.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:36:51.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:36:51.294 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:36:51.307 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:36:51.328 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:36:51.341 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:36:51.342 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 48.1433ms
2025-10-30 08:36:51.342 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:36:51.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 52.7153ms
2025-10-30 08:37:21.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:37:21.309 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:37:21.310 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:37:21.325 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:37:21.364 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:37:21.366 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:37:21.381 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 71.0296ms
2025-10-30 08:37:21.381 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:37:21.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 75.969ms
2025-10-30 08:37:51.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:37:51.305 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:37:51.305 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:37:51.333 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:37:51.357 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:37:51.360 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:37:51.373 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 67.7123ms
2025-10-30 08:37:51.373 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:37:51.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 73.4943ms
2025-10-30 08:37:59.304 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 493
2025-10-30 08:37:59.339 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:37:59.356 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:37:59.361 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:37:59.375 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:37:59.383 +02:00 [INF] Sending request to DeepSeek API...
2025-10-30 08:37:59.396 +02:00 [INF] Sending request to DeepSeek API (Prompt length: 933 chars)
2025-10-30 08:37:59.397 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:37:59.399 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:38:01.281 +02:00 [INF] Received HTTP response headers after 1872.8123ms - 401
2025-10-30 08:38:01.282 +02:00 [INF] End processing HTTP request after 1883.9718ms - 401
2025-10-30 08:38:01.293 +02:00 [INF] API Response Status: Unauthorized
2025-10-30 08:38:01.294 +02:00 [ERR] DeepSeek API Error - Status: Unauthorized, Content: {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 08:38:01.294 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:38:01.294 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:38:01.294 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:38:01.606 +02:00 [ERR] Error in GenerateCompletionAsync
System.Exception: DeepSeek API authorization failed. Please check your API key. (Key: fa11...69ee)
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens)
2025-10-30 08:38:01.983 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API authorization failed. Please check your API key. (Key: fa11...69ee)
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens)
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description)
2025-10-30 08:38:01.987 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:38:01.988 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 2631.9977ms
2025-10-30 08:38:01.989 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:38:01.990 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 2686.723ms
2025-10-30 08:38:02.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:38:02.016 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:38:02.017 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:38:02.017 +02:00 [INF] DeepSeek API configured with key: fa11...69ee
2025-10-30 08:38:02.025 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:38:02.039 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:38:02.046 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:38:02.050 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:38:02.058 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 9.9755ms.
2025-10-30 08:38:02.058 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 41.2896ms
2025-10-30 08:38:02.059 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:38:02.060 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 55.9359ms
2025-10-30 08:38:02.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:38:02.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:38:02.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 3.6248ms
2025-10-30 08:38:02.192 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.0182ms
2025-10-30 08:38:02.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:38:02.445 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:38:02.445 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:38:02.450 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:38:02.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:38:02.456 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:38:02.457 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 11.6552ms
2025-10-30 08:38:02.457 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:38:02.458 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 14.2969ms
2025-10-30 08:38:33.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:38:33.312 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:38:33.312 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:38:33.332 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:38:33.366 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:38:33.370 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:38:33.383 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 70.7674ms
2025-10-30 08:38:33.384 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:38:33.385 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 79.8595ms
2025-10-30 08:39:03.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:39:03.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:39:03.293 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:39:03.308 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:39:03.336 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:39:03.342 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:39:03.343 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 49.5768ms
2025-10-30 08:39:03.344 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:39:03.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 57.1243ms
2025-10-30 08:39:33.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:39:33.306 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:39:33.307 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:39:33.318 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:39:33.331 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:39:33.334 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:39:33.338 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 30.9265ms
2025-10-30 08:39:33.338 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:39:33.341 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 40.1008ms
2025-10-30 08:40:03.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:40:03.301 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:40:03.302 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:40:03.314 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:40:03.339 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:40:03.357 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:40:03.360 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 58.2259ms
2025-10-30 08:40:03.362 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:40:03.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 67.4724ms
2025-10-30 08:40:33.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:40:33.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:40:33.293 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:40:33.306 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:40:33.338 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:40:33.343 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:40:33.345 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 50.9364ms
2025-10-30 08:40:33.345 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:40:33.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 56.5919ms
2025-10-30 08:41:03.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:41:03.314 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:41:03.314 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:41:03.327 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:41:03.339 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:41:03.341 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:41:03.348 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 32.9566ms
2025-10-30 08:41:03.348 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:41:03.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 52.2024ms
2025-10-30 08:42:01.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:42:01.318 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:42:01.319 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:42:01.336 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:42:01.373 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:42:01.379 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:42:01.396 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 76.6831ms
2025-10-30 08:42:01.396 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:42:01.397 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 83.5591ms
2025-10-30 08:43:01.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:43:01.308 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:43:01.308 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:43:01.329 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:43:01.351 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:43:01.356 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:43:01.368 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 59.5391ms
2025-10-30 08:43:01.368 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:43:01.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 64.475ms
2025-10-30 08:43:51.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:43:51.301 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:43:51.301 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:43:51.328 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:43:51.332 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:43:51.332 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:43:51.333 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 32.0884ms
2025-10-30 08:43:51.333 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:43:51.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 35.4338ms
2025-10-30 08:44:03.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:44:03.302 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:44:03.302 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:44:03.314 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:44:03.333 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:44:03.346 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:44:03.364 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 61.7235ms
2025-10-30 08:44:03.364 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:44:03.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 65.5217ms
2025-10-30 08:44:33.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:44:33.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:44:33.416 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-10-30 08:44:33.513 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-30 08:44:33.564 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-10-30 08:44:33.630 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-10-30 08:44:33.648 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:44:33.649 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:44:33.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:44:33.659 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:44:33.666 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 17.5917ms
2025-10-30 08:44:33.667 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:44:33.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 364.2459ms
2025-10-30 08:46:01.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:46:01.305 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:46:01.306 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:46:01.329 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:46:01.359 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:46:01.361 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:46:01.363 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 56.176ms
2025-10-30 08:46:01.364 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:46:01.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 67.0897ms
2025-10-30 08:47:01.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:47:01.295 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:47:01.295 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:47:01.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:47:01.314 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:47:01.314 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:47:01.318 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 22.8392ms
2025-10-30 08:47:01.318 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:47:01.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 25.4181ms
2025-10-30 08:48:01.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:48:01.307 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:48:01.307 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:48:01.311 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:48:01.316 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:48:01.318 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:48:01.323 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 15.8017ms
2025-10-30 08:48:01.324 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:48:01.324 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 18.1993ms
2025-10-30 08:49:01.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:49:01.316 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:49:01.317 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:49:01.340 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:49:01.372 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:49:01.377 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:49:01.390 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 72.5118ms
2025-10-30 08:49:01.391 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:49:01.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 80.4763ms
2025-10-30 08:50:01.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:50:01.317 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:50:01.318 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:50:01.329 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:50:01.365 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:50:01.370 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:50:01.386 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 68.1268ms
2025-10-30 08:50:01.386 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:50:01.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 73.4458ms
2025-10-30 08:51:01.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:51:01.342 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:51:01.342 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:51:01.353 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:51:01.385 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:51:01.391 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:51:01.404 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 61.5925ms
2025-10-30 08:51:01.404 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:51:01.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 66.0246ms
2025-10-30 08:52:01.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:52:01.310 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:52:01.310 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:52:01.334 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:52:01.360 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:52:01.365 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:52:01.378 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 67.1647ms
2025-10-30 08:52:01.378 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:52:01.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 72.6418ms
2025-10-30 08:53:01.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:53:01.306 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:01.306 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:53:01.317 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:53:01.340 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:53:01.356 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:53:01.357 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 51.1207ms
2025-10-30 08:53:01.358 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:01.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 57.0072ms
2025-10-30 08:53:25.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:53:25.784 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:53:25.790 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:53:25.795 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:53:25.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:53:25.806 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:53:25.809 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:53:25.820 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 13.2572ms.
2025-10-30 08:53:25.821 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 30.7182ms
2025-10-30 08:53:25.821 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:53:25.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 49.9808ms
2025-10-30 08:53:25.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:53:25.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 2.3843ms
2025-10-30 08:53:25.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:53:25.901 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8954ms
2025-10-30 08:53:26.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:53:26.620 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:26.633 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:53:26.639 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:53:26.651 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:53:26.652 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:53:26.658 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 25.4666ms
2025-10-30 08:53:26.659 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:26.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 48.7364ms
2025-10-30 08:53:57.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:53:57.318 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:57.318 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:53:57.328 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:53:57.365 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:53:57.370 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:53:57.384 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 65.8488ms
2025-10-30 08:53:57.385 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:53:57.386 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 78.0126ms
2025-10-30 08:54:27.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:54:27.293 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:54:27.293 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:54:27.300 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:54:27.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:54:27.306 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:54:27.307 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 13.1689ms
2025-10-30 08:54:27.307 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:54:27.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 15.1691ms
2025-10-30 08:54:44.070 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 647
2025-10-30 08:54:44.105 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:54:44.125 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:54:44.134 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:54:44.177 +02:00 [INF] Sending request to DeepSeek API
2025-10-30 08:54:44.178 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:54:44.179 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:54:50.097 +02:00 [INF] Received HTTP response headers after 5918.4956ms - 401
2025-10-30 08:54:50.098 +02:00 [INF] End processing HTTP request after 5919.8454ms - 401
2025-10-30 08:54:50.099 +02:00 [ERR] DeepSeek API error: Unauthorized - {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 08:54:50.402 +02:00 [ERR] Error calling DeepSeek API
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens)
2025-10-30 08:54:50.816 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens)
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description)
2025-10-30 08:54:50.820 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:54:50.821 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 6695.1887ms
2025-10-30 08:54:50.821 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:54:50.823 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 6753.0241ms
2025-10-30 08:54:50.838 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:54:50.852 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:54:50.853 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:54:50.875 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:54:50.888 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:54:50.894 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:54:50.895 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:54:50.901 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 6.6524ms.
2025-10-30 08:54:50.902 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 48.7271ms
2025-10-30 08:54:50.902 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:54:50.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 65.5347ms
2025-10-30 08:54:51.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:54:51.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:54:51.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 4.1326ms
2025-10-30 08:54:51.037 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.7408ms
2025-10-30 08:54:51.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:54:51.276 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:54:51.277 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:54:51.280 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:54:51.288 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:54:51.290 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:54:51.298 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 21.198ms
2025-10-30 08:54:51.298 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:54:51.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 23.4267ms
2025-10-30 08:55:21.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:55:21.303 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:55:21.303 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:55:21.316 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:55:21.354 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:55:21.358 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:55:21.374 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 70.636ms
2025-10-30 08:55:21.374 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:55:21.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 75.2804ms
2025-10-30 08:57:37.696 +02:00 [INF] User profile is available. Using 'C:\Users\Mr Emmanuel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-30 08:57:41.512 +02:00 [WRN] The foreign key property 'DocumentAccess.DocumentId1' was created in shadow state because a conflicting property with the simple name 'DocumentId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:57:41.513 +02:00 [WRN] The foreign key property 'Invoice.QuotationId1' was created in shadow state because a conflicting property with the simple name 'QuotationId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-10-30 08:57:44.414 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-30 08:57:44.527 +02:00 [INF] Database already contains users, skipping seeding
2025-10-30 08:57:45.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/ - null null
2025-10-30 08:57:45.311 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 08:57:45.312 +02:00 [INF] Hosting environment: Development
2025-10-30 08:57:45.313 +02:00 [INF] Content root path: D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp
2025-10-30 08:57:45.606 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:57:45.644 +02:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller BCSApp.Controllers.HomeController (BCSApp).
2025-10-30 08:57:45.720 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:57:46.000 +02:00 [INF] Executed ViewResult - view Index executed in 316.5294ms.
2025-10-30 08:57:46.006 +02:00 [INF] Executed action BCSApp.Controllers.HomeController.Index (BCSApp) in 360.2644ms
2025-10-30 08:57:46.007 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.HomeController.Index (BCSApp)'
2025-10-30 08:57:46.030 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:57:46.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/ - 200 null text/html; charset=utf-8 917.6599ms
2025-10-30 08:57:46.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 11.6189ms
2025-10-30 08:57:46.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:57:46.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.9071ms
2025-10-30 08:57:46.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:57:46.680 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:57:46.698 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:57:47.367 +02:00 [INF] Executed DbCommand (156ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:57:48.120 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:57:48.162 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:57:48.321 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 1622.0233ms
2025-10-30 08:57:48.322 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:57:48.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 1700.2711ms
2025-10-30 08:57:56.919 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis - null null
2025-10-30 08:57:57.026 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:57:57.041 +02:00 [INF] Route matched with {action = "Index", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:57:57.442 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:57:57.954 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AnalysisResult], [a].[AnalysisType], [a].[ConfidenceLevel], [a].[CreatedAt], [a].[DocumentId], [a].[EstimatedCost], [a].[MaintenanceRequestId], [a].[ProjectId], [a].[Recommendations], [a].[RequestedById], [a].[RiskScore], [a].[Title], [a0].[Id], [a0].[AccessFailedCount], [a0].[Address], [a0].[Company], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[IsActive], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[Phone], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[Role], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UpdatedAt], [a0].[UserName], [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt], [m].[Id], [m].[ActualCost], [m].[AssignedToId], [m].[ClientId], [m].[CompletedAt], [m].[CreatedAt], [m].[Description], [m].[DueDate], [m].[EstimatedCost], [m].[Location], [m].[Priority], [m].[ProjectId], [m].[PropertyType], [m].[Status], [m].[Title], [m].[UpdatedAt], [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [AIAnalyses] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[RequestedById] = [a0].[Id]
LEFT JOIN [Projects] AS [p] ON [a].[ProjectId] = [p].[Id]
LEFT JOIN [MaintenanceRequests] AS [m] ON [a].[MaintenanceRequestId] = [m].[Id]
LEFT JOIN [Documents] AS [d] ON [a].[DocumentId] = [d].[Id]
ORDER BY [a].[CreatedAt] DESC
2025-10-30 08:57:57.966 +02:00 [INF] Executing ViewResult, running view Index.
2025-10-30 08:57:58.014 +02:00 [INF] Executed ViewResult - view Index executed in 52.4245ms.
2025-10-30 08:57:58.015 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.Index (BCSApp) in 972.9431ms
2025-10-30 08:57:58.015 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.Index (BCSApp)'
2025-10-30 08:57:58.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis - 200 null text/html; charset=utf-8 1099.9276ms
2025-10-30 08:57:58.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:57:58.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:57:58.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 8.1025ms
2025-10-30 08:57:58.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.95ms
2025-10-30 08:57:58.447 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:57:58.456 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:57:58.457 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:57:58.462 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:57:58.469 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:57:58.470 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:57:58.472 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 14.3996ms
2025-10-30 08:57:58.472 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:57:58.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 25.8838ms
2025-10-30 08:58:00.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:58:00.836 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:58:00.844 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:58:00.870 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:00.891 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:58:01.025 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:58:01.094 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:58:01.196 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 102.8886ms.
2025-10-30 08:58:01.196 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 351.9996ms
2025-10-30 08:58:01.197 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:58:01.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 371.1218ms
2025-10-30 08:58:01.238 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:58:01.244 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:58:01.246 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 2.9918ms
2025-10-30 08:58:01.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.2677ms
2025-10-30 08:58:01.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:58:01.530 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:01.531 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:58:01.539 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:01.547 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:58:01.548 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:58:01.549 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 17.6332ms
2025-10-30 08:58:01.549 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:01.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 23.5284ms
2025-10-30 08:58:14.895 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - application/x-www-form-urlencoded 505
2025-10-30 08:58:14.927 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:58:14.990 +02:00 [INF] Route matched with {action = "GenerateCostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateCostEstimation(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String) on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:58:15.133 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:15.221 +02:00 [INF] Sending request to DeepSeek API
2025-10-30 08:58:15.230 +02:00 [INF] Start processing HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:58:15.237 +02:00 [INF] Sending HTTP request POST https://api.deepseek.com/v1/chat/completions
2025-10-30 08:58:17.073 +02:00 [INF] Received HTTP response headers after 1826.8025ms - 401
2025-10-30 08:58:17.076 +02:00 [INF] End processing HTTP request after 1852.8543ms - 401
2025-10-30 08:58:17.090 +02:00 [ERR] DeepSeek API error: Unauthorized - {"error":{"message":"Authentication Fails, Your api key: ****69ee is invalid","type":"authentication_error","param":null,"code":"invalid_request_error"}}
2025-10-30 08:58:17.492 +02:00 [ERR] Error calling DeepSeek API
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 74
2025-10-30 08:58:18.027 +02:00 [ERR] Error generating cost estimation
System.Exception: DeepSeek API request failed: Unauthorized
   at BCSApp.Services.DeepSeekService.GenerateCompletionAsync(String prompt, Int32 maxTokens) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Services\DeepSeekService.cs:line 74
   at BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation(Nullable`1 projectId, Nullable`1 documentId, String description) in D:\downloads\Brown-s-Construction-Services-main\Brown-s-Construction-Services-main\BCSApp\Controllers\AIAnalysisController.cs:line 88
2025-10-30 08:58:18.036 +02:00 [INF] Executing RedirectResult, redirecting to /AIAnalysis/CostEstimation.
2025-10-30 08:58:18.193 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp) in 3202.8163ms
2025-10-30 08:58:18.193 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.GenerateCostEstimation (BCSApp)'
2025-10-30 08:58:18.205 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44340/AIAnalysis/GenerateCostEstimation - 302 null null 3310.4834ms
2025-10-30 08:58:18.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - null null
2025-10-30 08:58:18.222 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:58:18.222 +02:00 [INF] Route matched with {action = "CostEstimation", controller = "AIAnalysis"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CostEstimation() on controller BCSApp.Controllers.AIAnalysisController (BCSApp).
2025-10-30 08:58:18.231 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:18.245 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ActualCost], [p].[Budget], [p].[ClientId], [p].[CreatedAt], [p].[Description], [p].[EndDate], [p].[Location], [p].[Name], [p].[ProjectManagerId], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
FROM [Projects] AS [p]
2025-10-30 08:58:18.252 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[CreatedAt], [d].[Description], [d].[DocumentType], [d].[FileName], [d].[FilePath], [d].[FileSize], [d].[FileType], [d].[MaintenanceRequestId], [d].[Name], [d].[ProjectId], [d].[TaskId], [d].[UploadedById]
FROM [Documents] AS [d]
WHERE [d].[DocumentType] IN (N'Blueprint', N'Contract')
2025-10-30 08:58:18.255 +02:00 [INF] Executing ViewResult, running view CostEstimation.
2025-10-30 08:58:18.333 +02:00 [INF] Executed ViewResult - view CostEstimation executed in 78.7903ms.
2025-10-30 08:58:18.334 +02:00 [INF] Executed action BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp) in 111.4755ms
2025-10-30 08:58:18.335 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.AIAnalysisController.CostEstimation (BCSApp)'
2025-10-30 08:58:18.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/AIAnalysis/CostEstimation - 200 null text/html; charset=utf-8 130.23ms
2025-10-30 08:58:18.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_vs/browserLink - null null
2025-10-30 08:58:18.450 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - null null
2025-10-30 08:58:18.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_framework/aspnetcore-browser-refresh.js - 200 16497 application/javascript; charset=utf-8 11.0075ms
2025-10-30 08:58:18.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.0056ms
2025-10-30 08:58:18.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:58:18.795 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:18.795 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:58:18.806 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:18.817 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:58:18.818 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:58:18.820 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 23.9815ms
2025-10-30 08:58:18.821 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:18.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 29.9607ms
2025-10-30 08:58:49.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - null null
2025-10-30 08:58:49.305 +02:00 [INF] Executing endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:49.305 +02:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Message"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount() on controller BCSApp.Controllers.MessageController (BCSApp).
2025-10-30 08:58:49.319 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Company], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[Phone], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-10-30 08:58:49.354 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE [m].[RecipientId] = @__user_Id_0 AND [m].[IsRead] = CAST(0 AS bit)
2025-10-30 08:58:49.358 +02:00 [INF] Executing JsonResult, writing value of type 'System.Int32'.
2025-10-30 08:58:49.369 +02:00 [INF] Executed action BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp) in 63.3408ms
2025-10-30 08:58:49.370 +02:00 [INF] Executed endpoint 'BCSApp.Controllers.MessageController.GetUnreadCount (BCSApp)'
2025-10-30 08:58:49.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44340/Message/GetUnreadCount - 200 null application/json; charset=utf-8 68.9595ms
